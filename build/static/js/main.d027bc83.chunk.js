(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{101:function(e,t,a){},128:function(e,t){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),l=(a(101),a(32)),i=a(179),s=a(187),m=a(65),u=a.n(m),d=a(134),p=a(174),f=a(178),E=a(84),g=a.n(E),h=function(e){var t=e.title,a=e.joinRoom;return r.a.createElement(p.a,{className:"groupBox",onClick:function(){a(t)},elevation:3},r.a.createElement(f.a,null,r.a.createElement("div",{className:"discussion"},r.a.createElement("img",{src:g.a,alt:"default pic",height:"100px"}),r.a.createElement("div",{className:"discussionInfo"},r.a.createElement("h2",null,t)))))},v=Object(n.createContext)(),b=a(190),O=function(e){var t=e.name,a=e.msg,n=e.classx;return r.a.createElement(p.a,{className:"chatBubble ".concat(n)},r.a.createElement(b.a,null),r.a.createElement("div",{className:"chatInfo"},r.a.createElement("h2",null,t),r.a.createElement("div",{className:"msgContainer"},a)))},N=a(87),j=a.n(N),R=a(180),y=a(54),C=a.n(y),w=a(188),x=a(182),k=a(183),S=a(86),A=a.n(S),I=a(88),M=a(181),D=function(e){var t=Object(n.useContext)(v),a=t.rooms,o=t.conversations,c=t.sendMsg,m=t.username,p=t.setUsername,f=t.addRoom,E=t.stateSetRoomName,g=Object(n.useRef)(),b=Object(n.useState)(""),N=Object(l.a)(b,2),y=N[0],S=N[1],D=Object(n.useState)(),_=Object(l.a)(D,2),P=_[0],T=_[1],W=Object(n.useState)(""),B=Object(l.a)(W,2),F=B[0],G=B[1],U=window.location.pathname;Object(n.useEffect)((function(){g.current=A.a.connect("/"),g.current.on("join",(function(){g.current.emit("set join",U)})),g.current.on("my id",(function(e){T(e)})),g.current.on("add conversation",(function(e){c(e)}))}),[]);var L=function(e){if(""===y||""===m)alert("u have no messages or no username");else{var t={msg:y,id:P,name:m};g.current.emit("message sent",t),S("")}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===e)if(""!==F){for(var t=0;t<a.length;t++)if(a[t].title===F)return void alert("Room already exist, find the room below");var n={title:F};f(n),g.current.emit("enter room",F),E(F)}else alert("Enter a room name");else if(""!==e){for(var r=0;r<a.length;r++)if(a[r].title===e)return void alert("Room already exist, find the room below");var o={title:e};f(o),g.current.emit("enter room",e),E(e)}else alert("Enter a room name");console.log()};return r.a.createElement(i.a,{id:"msg-container",maxWidth:"lg",style:{backgroundColor:"#ffffff"}},r.a.createElement(I.a,{className:"grpChats",style:{backgroundColor:"#fffafa"}},r.a.createElement("div",{className:"input-container"},r.a.createElement("div",{className:"inputField"},r.a.createElement(s.a,{id:"input-with-icon-textfield",label:"Your Name",InputProps:{startAdornment:r.a.createElement(R.a,{position:"start"},r.a.createElement(j.a,null))},fullWidth:!0,variant:"filled",onChange:function(e){p(e.target.value)}})),r.a.createElement("div",{className:"inputField"},r.a.createElement(s.a,{id:"input-with-icon-textfield",label:"Room Name",InputProps:{startAdornment:r.a.createElement(R.a,{position:"start"},r.a.createElement(C.a,null)),endAdornment:r.a.createElement(R.a,{position:"end"},r.a.createElement(M.a,{onClick:function(){J()}},r.a.createElement(u.a,null)))},onKeyPress:function(e){"Enter"===e.key&&J()},fullWidth:!0,variant:"filled",placeholder:"Enter Room",onChange:function(e){G(e.target.value)}}))),r.a.createElement("div",{className:"users"}," ",r.a.createElement(w.a,null,r.a.createElement(x.a,null,r.a.createElement("p",null,"Your list of Groups")),r.a.createElement(k.a,{className:"accordionDetails"},a.length>0?a.map((function(e){return r.a.createElement(h,{title:e.title,description:e.description,picture:e.picture,key:e.title,joinRoom:function(){!function(e){g.current.emit("enter room ",e)}(),E(e.title)}})})):r.a.createElement("p",null,"No groups yet"))))),r.a.createElement("div",{className:"messaging"},r.a.createElement(I.a,{className:"conversation",style:{backgroundColor:"#d9ecf2"}},o.map((function(e){return e.id===P?r.a.createElement(O,{name:e.name,msg:e.msg,classx:"sent"}):r.a.createElement(O,{name:e.name,msg:e.msg,classx:"received"})}))),r.a.createElement(I.a,{className:"msgField",style:{backgroundColor:"#51adcf"}},r.a.createElement(s.a,{fullWidth:!0,value:y,onKeyPress:function(e){"Enter"===e.key&&L()},onChange:function(e){S(e.target.value)}}),r.a.createElement(d.a,{onClick:function(e){L()}},r.a.createElement(u.a,null)))))},_=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(D,null))},P=a(31),T=a(185),W=a(186),B=a(133),F=a(184),G=a(11),U=a(189),L=Object(F.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(P.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(P.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(G.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(G.b)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(P.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function J(){var e=L(),t=Object(n.useContext)(v).currentRoomName;return r.a.createElement("div",{className:e.root},r.a.createElement(T.a,{position:"static"},r.a.createElement(W.a,null,r.a.createElement(B.a,{className:e.title,variant:"h6",noWrap:!0},"Group Chats"),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(C.a,null)),r.a.createElement(U.a,{value:t,placeholder:"Current Room",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"},disabled:!0})))))}var K=a(66),V=a(16),Y=function(e,t){switch(t.type){case"ADD_CONVERSATION":return Object(V.a)(Object(V.a)({},e),{},{conversations:[].concat(Object(K.a)(e.conversations),[t.payload])});case"SET_USERNAME":return Object(V.a)(Object(V.a)({},e),{},{username:t.payload});case"ADD_ROOM":return Object(V.a)(Object(V.a)({},e),{},{rooms:[].concat(Object(K.a)(e.rooms),[t.payload])});case"SET_ROOMNAME":return Object(V.a)(Object(V.a)({},e),{},{currentRoomName:t.payload});default:return e}},q=function(e){var t=Object(n.useReducer)(Y,{rooms:[],users:[],conversations:[],username:"",currentRoomName:"Default Room"}),a=Object(l.a)(t,2),o=a[0],c=a[1],i=function(e){c({type:"ADD_CONVERSATION",payload:e})};return r.a.createElement(v.Provider,{value:{temp:o.temp,rooms:o.rooms,conversations:o.conversations,username:o.username,currentRoomName:o.currentRoomName,sendMsg:function(e){var t={name:e.name,msg:e.msg,id:e.id};i(t)},setUsername:function(e){c({type:"SET_USERNAME",payload:e})},addRoom:function(e){c({type:"ADD_ROOM",payload:e})},stateSetRoomName:function(e){c({type:"SET_ROOMNAME",payload:e})}}},e.children)};var z=function(){return r.a.createElement(q,null,r.a.createElement(J,null),r.a.createElement(_,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))},84:function(e,t,a){e.exports=a.p+"static/media/gc.99752674.jpg"},96:function(e,t,a){e.exports=a(132)}},[[96,1,2]]]);
//# sourceMappingURL=main.d027bc83.chunk.js.map